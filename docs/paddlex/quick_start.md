# å¿«é€Ÿå¼€å§‹

>**è¯´æ˜ï¼š**

>* é£æ¡¨ä½ä»£ç å¼€å‘å·¥å…·[PaddleX](https://github.com/PaddlePaddle/PaddleX/tree/release/3.0-beta1)ï¼Œä¾æ‰˜äºPaddleOCRçš„å…ˆè¿›æŠ€æœ¯ï¼Œæ”¯æŒäº†OCRé¢†åŸŸçš„**ä½ä»£ç å…¨æµç¨‹**å¼€å‘èƒ½åŠ›ã€‚é€šè¿‡ä½ä»£ç å¼€å‘ï¼Œå¯å®ç°ç®€å•ä¸”é«˜æ•ˆçš„æ¨¡å‹ä½¿ç”¨ã€ç»„åˆä¸å®šåˆ¶ã€‚

>* PaddleX è‡´åŠ›äºå®ç°äº§çº¿çº§åˆ«çš„æ¨¡å‹è®­ç»ƒã€æ¨ç†ä¸éƒ¨ç½²ã€‚æ¨¡å‹äº§çº¿æ˜¯æŒ‡ä¸€ç³»åˆ—é¢„å®šä¹‰å¥½çš„ã€é’ˆå¯¹ç‰¹å®šAIä»»åŠ¡çš„å¼€å‘æµç¨‹ï¼Œå…¶ä¸­åŒ…å«èƒ½å¤Ÿç‹¬ç«‹å®ŒæˆæŸç±»ä»»åŠ¡çš„å•æ¨¡å‹ï¼ˆå•åŠŸèƒ½æ¨¡å—ï¼‰ç»„åˆã€‚æœ¬æ–‡æ¡£æä¾›**OCRç›¸å…³äº§çº¿**çš„å¿«é€Ÿæ¨ç†ä½¿ç”¨ï¼Œå•åŠŸèƒ½æ¨¡å—çš„å¿«é€Ÿä½¿ç”¨ä»¥åŠæ›´å¤šåŠŸèƒ½è¯·å‚è€ƒ[PaddleOCRä½ä»£ç å…¨æµç¨‹å¼€å‘](https://paddlepaddle.github.io/PaddleOCR/latest/paddlex/overview.html)ä¸­ç›¸å…³ç« èŠ‚ã€‚


### ğŸ› ï¸ å®‰è£…

> â—å®‰è£…PaddleXå‰è¯·å…ˆç¡®ä¿æ‚¨æœ‰åŸºç¡€çš„**Pythonè¿è¡Œç¯å¢ƒ**ã€‚
* **å®‰è£…PaddlePaddle**
```bash
# cpu
python -m pip install paddlepaddle==3.0.0b1 -i https://www.paddlepaddle.org.cn/packages/stable/cpu/

# gpuï¼Œè¯¥å‘½ä»¤ä»…é€‚ç”¨äº CUDA ç‰ˆæœ¬ä¸º 11.8 çš„æœºå™¨ç¯å¢ƒ
python -m pip install paddlepaddle-gpu==3.0.0b1 -i https://www.paddlepaddle.org.cn/packages/stable/cu118/

# gpuï¼Œè¯¥å‘½ä»¤ä»…é€‚ç”¨äº CUDA ç‰ˆæœ¬ä¸º 12.3 çš„æœºå™¨ç¯å¢ƒ
python -m pip install paddlepaddle-gpu==3.0.0b1 -i https://www.paddlepaddle.org.cn/packages/stable/cu123/
```
> â— æ›´å¤šé£æ¡¨ Wheel ç‰ˆæœ¬è¯·å‚è€ƒ[é£æ¡¨å®˜ç½‘](https://www.paddlepaddle.org.cn/install/quick?docurl=/documentation/docs/zh/install/pip/linux-pip.html)ã€‚

* **å®‰è£…PaddleX**

```bash
pip install https://paddle-model-ecology.bj.bcebos.com/paddlex/whl/paddlex-3.0.0b1-py3-none-any.whl
```

> â— æ›´å¤šå®‰è£…æ–¹å¼å‚è€ƒ[PaddleXå®‰è£…æ•™ç¨‹](https://github.com/PaddlePaddle/PaddleX/blob/release/3.0-beta1/docs/installation/installation.md)

### ğŸ“ Python è„šæœ¬ä½¿ç”¨

ä¸‰è¡Œä»£ç å³å¯å®Œæˆäº§çº¿çš„å¿«é€Ÿæ¨ç†ï¼Œç»Ÿä¸€çš„ Python è„šæœ¬æ ¼å¼å¦‚ä¸‹ï¼š
```python
from paddlex import create_pipeline

pipeline = create_pipeline(pipeline=[äº§çº¿åç§°])
output = pipeline.predict([è¾“å…¥å›¾ç‰‡åç§°])
for res in output:
    res.print()
    res.save_to_img("./output/")
    res.save_to_json("./output/")
```
æ‰§è¡Œäº†å¦‚ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š

* `create_pipeline()` å®ä¾‹åŒ–äº§çº¿å¯¹è±¡
* ä¼ å…¥å›¾ç‰‡å¹¶è°ƒç”¨äº§çº¿å¯¹è±¡çš„ `predict` æ–¹æ³•è¿›è¡Œæ¨ç†é¢„æµ‹
* å¯¹é¢„æµ‹ç»“æœè¿›è¡Œå¤„ç†

å…¶ä»–äº§çº¿çš„ Python è„šæœ¬ä½¿ç”¨ï¼Œåªéœ€å°† `create_pipeline()` æ–¹æ³•çš„ `pipeline` å‚æ•°è°ƒæ•´ä¸ºç›¸åº”äº§çº¿çš„åç§°ã€‚ä¸‹é¢åˆ—å‡ºäº†æ¯ä¸ªäº§çº¿å¯¹åº”çš„å‚æ•°åç§°åŠè¯¦ç»†çš„ä½¿ç”¨è§£é‡Šï¼š


<b>ğŸ‘‰ æ›´å¤šäº§çº¿çš„Pythonè„šæœ¬ä½¿ç”¨</b>

| äº§çº¿åç§°           | å¯¹åº”å‚æ•°               | è¯¦ç»†è¯´æ˜                                                                                                      |
|--------------------|------------------------|---------------------------------------------------------------------------------------------------------------|
| æ–‡æ¡£åœºæ™¯ä¿¡æ¯æŠ½å–v3   | `PP-ChatOCRv3-doc` | [æ–‡æ¡£åœºæ™¯ä¿¡æ¯æŠ½å–v3äº§çº¿Pythonè„šæœ¬ä½¿ç”¨è¯´æ˜](https://github.com/PaddlePaddle/PaddleX/blob/release/3.0-beta1/docs/pipeline_usage/tutorials/information_extration_pipelines/document_scene_information_extraction.md#22-æœ¬åœ°ä½“éªŒ) |
| é€šç”¨OCR            | `OCR` | [é€šç”¨OCRäº§çº¿Pythonè„šæœ¬ä½¿ç”¨è¯´æ˜](https://github.com/PaddlePaddle/PaddleX/blob/release/3.0-beta1/docs/pipeline_usage/tutorials/ocr_pipelines/OCR.md#222-pythonè„šæœ¬æ–¹å¼é›†æˆ) |
| é€šç”¨è¡¨æ ¼è¯†åˆ«       | `table_recognition` | [é€šç”¨è¡¨æ ¼è¯†åˆ«äº§çº¿Pythonè„šæœ¬ä½¿ç”¨è¯´æ˜](https://github.com/PaddlePaddle/PaddleX/blob/release/3.0-beta1/docs/pipeline_usage/tutorials/ocr_pipelines/table_recognition.md#22-pythonè„šæœ¬æ–¹å¼é›†æˆ) |
| é€šç”¨ç‰ˆé¢è§£æ       | `layout_parsing`                | [é€šç”¨ç‰ˆé¢è§£æäº§çº¿Pythonè„šæœ¬ä½¿ç”¨è¯´æ˜](https://github.com/PaddlePaddle/PaddleX/blob/release/3.0-beta1/docs/pipeline_usage/tutorials/ocr_pipelines/layout_parsing.md#22-pythonè„šæœ¬æ–¹å¼é›†æˆ)                                   |
| å…¬å¼è¯†åˆ«       | `formula_recognition`                | [å…¬å¼è¯†åˆ«äº§çº¿Pythonè„šæœ¬ä½¿ç”¨è¯´æ˜](https://github.com/PaddlePaddle/PaddleX/blob/release/3.0-beta1/docs/pipeline_usage/tutorials/ocr_pipelines/formula_recognition.md#22-pythonè„šæœ¬æ–¹å¼é›†æˆ)                                   |
| å°ç« æ–‡æœ¬è¯†åˆ«       | `seal_recognition`                | [å°ç« æ–‡æœ¬è¯†åˆ«äº§çº¿Pythonè„šæœ¬ä½¿ç”¨è¯´æ˜](https://github.com/PaddlePaddle/PaddleX/blob/release/3.0-beta1/docs/pipeline_usage/tutorials/ocr_pipelines/seal_recognition.md#22-pythonè„šæœ¬æ–¹å¼é›†æˆ)                                          |

### ğŸ’» å‘½ä»¤è¡Œä½¿ç”¨

ä¸€è¡Œå‘½ä»¤å³å¯å¿«é€Ÿä½“éªŒäº§çº¿æ•ˆæœï¼Œç»Ÿä¸€çš„å‘½ä»¤è¡Œæ ¼å¼ä¸ºï¼š

```bash
paddlex --pipeline [äº§çº¿åç§°] --input [è¾“å…¥å›¾ç‰‡] --device [è¿è¡Œè®¾å¤‡]
```

åªéœ€æŒ‡å®šä¸‰ä¸ªå‚æ•°ï¼š
* `pipeline`ï¼šäº§çº¿åç§°
* `input`ï¼šå¾…å¤„ç†çš„è¾“å…¥æ–‡ä»¶ï¼ˆå¦‚å›¾ç‰‡ï¼‰çš„æœ¬åœ°è·¯å¾„æˆ– URL
* `device`: ä½¿ç”¨çš„ GPU åºå·ï¼ˆä¾‹å¦‚`gpu:0`è¡¨ç¤ºä½¿ç”¨ç¬¬ 0 å— GPUï¼‰ï¼Œä¹Ÿå¯é€‰æ‹©ä½¿ç”¨ CPUï¼ˆ`cpu`ï¼‰


ä»¥é€šç”¨ OCR äº§çº¿ä¸ºä¾‹ï¼š
```bash
paddlex --pipeline OCR --input https://paddle-model-ecology.bj.bcebos.com/paddlex/imgs/demo_image/general_ocr_002.png --device gpu:0
```

è¿è¡Œç»“æœå¦‚ä¸‹ï¼š

```bash
{'img_path': '/root/.paddlex/predict_input/general_ocr_002.png', 'dt_polys': [[[5, 12], [88, 10], [88, 29], [5, 31]], [[208, 14], [249, 14], [249, 22], [208, 22]], [[695, 15], [824, 15], [824, 60], [695, 60]], [[158, 27], [355, 23], [356, 70], [159, 73]], [[421, 25], [659, 19], [660, 59], [422, 64]], [[337, 104], [460, 102], [460, 127], [337, 129]], [[486, 103], [650, 100], [650, 125], [486, 128]], [[675, 98], [835, 94], [835, 119], [675, 124]], [[64, 114], [192, 110], [192, 131], [64, 134]], [[210, 108], [318, 106], [318, 128], [210, 130]], [[82, 140], [214, 138], [214, 163], [82, 165]], [[226, 136], [328, 136], [328, 161], [226, 161]], [[404, 134], [432, 134], [432, 161], [404, 161]], [[509, 131], [570, 131], [570, 158], [509, 158]], [[730, 138], [771, 138], [771, 154], [730, 154]], [[806, 136], [817, 136], [817, 146], [806, 146]], [[342, 175], [470, 173], [470, 197], [342, 199]], [[486, 173], [616, 171], [616, 196], [486, 198]], [[677, 169], [813, 166], [813, 191], [677, 194]], [[65, 181], [170, 177], [171, 202], [66, 205]], [[96, 208], [171, 205], [172, 230], [97, 232]], [[336, 220], [476, 215], [476, 237], [336, 242]], [[507, 217], [554, 217], [554, 236], [507, 236]], [[87, 229], [204, 227], [204, 251], [87, 254]], [[344, 240], [483, 236], [483, 258], [344, 262]], [[66, 252], [174, 249], [174, 271], [66, 273]], [[75, 279], [264, 272], [265, 297], [76, 303]], [[459, 297], [581, 295], [581, 320], [459, 322]], [[101, 314], [210, 311], [210, 337], [101, 339]], [[68, 344], [165, 340], [166, 365], [69, 368]], [[345, 350], [662, 346], [662, 368], [345, 371]], [[100, 459], [832, 444], [832, 465], [100, 480]]], 'dt_scores': [0.8183103704439653, 0.7609575621092027, 0.8662357274035412, 0.8619508290334809, 0.8495855993183273, 0.8676840017933314, 0.8807986687956436, 0.822308525056085, 0.8686617037621976, 0.8279022169854463, 0.952332847006758, 0.8742692553015098, 0.8477013022907575, 0.8528771493227294, 0.7622965906848765, 0.8492388224448705, 0.8344203789965632, 0.8078477124353284, 0.6300434587457232, 0.8359967356998494, 0.7618617265751318, 0.9481573079350023, 0.8712182945408912, 0.837416955846334, 0.8292475059403851, 0.7860382856406026, 0.7350527486717117, 0.8701022267947695, 0.87172526903969, 0.8779847108088126, 0.7020437651809734, 0.6611684983372949], 'rec_text': ['www.997', '151', 'PASS', 'ç™»æœºç‰Œ', 'BOARDING', 'èˆ±ä½ CLASS', 'åºå·SERIALNO.', 'åº§ä½å·SEATNO', 'èˆªç­ FLIGHT', 'æ—¥æœŸDATE', 'MU 2379', '03DEC', 'W', '035', 'F', '1', 'å§‹å‘åœ°FROM', 'ç™»æœºå£ GATE', 'ç™»æœºæ—¶é—´BDT', 'ç›®çš„åœ°TO', 'ç¦å·', 'TAIYUAN', 'G11', 'FUZHOU', 'èº«ä»½è¯†åˆ«IDNO.', 'å§“åNAME', 'ZHANGQIWEI', 'ç¥¨å·TKTNO.', 'å¼ ç¥ºä¼Ÿ', 'ç¥¨ä»·FARE', 'ETKT7813699238489/1', 'ç™»æœºå£äºèµ·é£å‰10åˆ†é’Ÿå…³é—­GATESCLOSE1OMINUTESBEFOREDEPARTURETIME'], 'rec_score': [0.9617719054222107, 0.4199012815952301, 0.9652514457702637, 0.9978302121162415, 0.9853208661079407, 0.9445787072181702, 0.9714463949203491, 0.9841841459274292, 0.9564052224159241, 0.9959094524383545, 0.9386572241783142, 0.9825271368026733, 0.9356589317321777, 0.9985442161560059, 0.3965512812137604, 0.15236201882362366, 0.9976775050163269, 0.9547433257102966, 0.9974752068519592, 0.9646636843681335, 0.9907559156417847, 0.9895358681678772, 0.9374122023582458, 0.9909093379974365, 0.9796401262283325, 0.9899340271949768, 0.992210865020752, 0.9478569626808167, 0.9982215762138367, 0.9924325942993164, 0.9941263794898987, 0.96443772315979]}
......
```

å¯è§†åŒ–ç»“æœå¦‚ä¸‹ï¼š

![alt text](https://raw.githubusercontent.com/cuicheng01/PaddleX_doc_images/main/images/boardingpass.png)


å…¶ä»–äº§çº¿çš„å‘½ä»¤è¡Œä½¿ç”¨ï¼Œåªéœ€å°† `pipeline` å‚æ•°è°ƒæ•´ä¸ºç›¸åº”äº§çº¿çš„åç§°ã€‚ä¸‹é¢åˆ—å‡ºäº†æ¯ä¸ªäº§çº¿å¯¹åº”çš„å‘½ä»¤ï¼š

<b>ğŸ‘‰ æ›´å¤šäº§çº¿çš„å‘½ä»¤è¡Œä½¿ç”¨</b>

| äº§çº¿åç§°      | ä½¿ç”¨å‘½ä»¤                                                                                                                                                                                             |
|-----------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| é€šç”¨è¡¨æ ¼è¯†åˆ«    | `paddlex --pipeline table_recognition --input https://paddle-model-ecology.bj.bcebos.com/paddlex/imgs/demo_image/table_recognition.jpg --device gpu:0`                                             |
| é€šç”¨ç‰ˆé¢è§£æ       | `paddlex --pipeline layout_parsing --input https://paddle-model-ecology.bj.bcebos.com/paddlex/imgs/demo_image/demo_paper.png --device gpu:0`                                      |
| å…¬å¼è¯†åˆ«       | `paddlex --pipeline formula_recognition --input https://paddle-model-ecology.bj.bcebos.com/paddlex/demo_image/general_formula_recognition.png --device gpu:0`                                      |
| å°ç« æ–‡æœ¬è¯†åˆ«       | `paddlex --pipeline seal_recognition --input https://paddle-model-ecology.bj.bcebos.com/paddlex/imgs/demo_image/seal_text_det.png --device gpu:0`                             |
