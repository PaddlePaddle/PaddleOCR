---
comments: true
---

# è¡¨æ ¼ç»“æ„è¯†åˆ«æ¨¡å—ä½¿ç”¨æ•™ç¨‹

## ä¸€ã€æ¦‚è¿°

è¡¨æ ¼ç»“æ„è¯†åˆ«æ˜¯è¡¨æ ¼è¯†åˆ«ç³»ç»Ÿä¸­çš„é‡è¦ç»„æˆéƒ¨åˆ†ï¼Œèƒ½å¤Ÿå°†ä¸å¯ç¼–è¾‘è¡¨æ ¼å›¾ç‰‡è½¬æ¢ä¸ºå¯ç¼–è¾‘çš„è¡¨æ ¼å½¢å¼ï¼ˆä¾‹å¦‚htmlï¼‰ã€‚è¡¨æ ¼ç»“æ„è¯†åˆ«çš„ç›®æ ‡æ˜¯å¯¹è¡¨æ ¼çš„è¡Œã€åˆ—å’Œå•å…ƒæ ¼ä½ç½®è¿›è¡Œè¯†åˆ«ï¼Œè¯¥æ¨¡å—çš„æ€§èƒ½ç›´æ¥å½±å“åˆ°æ•´ä¸ªè¡¨æ ¼è¯†åˆ«ç³»ç»Ÿçš„å‡†ç¡®æ€§å’Œæ•ˆç‡ã€‚è¡¨æ ¼ç»“æ„è¯†åˆ«æ¨¡å—ä¼šè¾“å‡ºè¡¨æ ¼åŒºåŸŸçš„htmlä»£ç ï¼Œè¿™äº›ä»£ç å°†ä½œä¸ºè¾“å…¥ä¼ é€’ç»™è¡¨æ ¼è¯†åˆ«äº§çº¿è¿›è¡Œåç»­å¤„ç†ã€‚

## äºŒã€æ”¯æŒæ¨¡å‹åˆ—è¡¨

> æ¨ç†è€—æ—¶ä»…åŒ…å«æ¨¡å‹æ¨ç†è€—æ—¶ï¼Œä¸åŒ…å«å‰åå¤„ç†è€—æ—¶ã€‚

### ğŸ“ŠğŸ“Š SLANet
**æ¨¡å‹ç±»å‹ï¼š** æ¨ç†æ¨¡å‹/è®­ç»ƒæ¨¡å‹ | **æ¨¡å‹å­˜å‚¨å¤§å°ï¼š** 6.9 MB  
**æ¨¡å‹ä»‹ç»ï¼š**  
SLANet æ˜¯ç™¾åº¦é£æ¡¨è§†è§‰å›¢é˜Ÿè‡ªç ”çš„è¡¨æ ¼ç»“æ„è¯†åˆ«æ¨¡å‹ã€‚è¯¥æ¨¡å‹é€šè¿‡é‡‡ç”¨ CPU å‹å¥½å‹è½»é‡çº§éª¨å¹²ç½‘ç»œ PP-LCNetã€é«˜ä½å±‚ç‰¹å¾èåˆæ¨¡å— CSP-PANã€ç»“æ„ä¸ä½ç½®ä¿¡æ¯å¯¹é½çš„ç‰¹å¾è§£ç æ¨¡å— SLA Headï¼Œå¤§å¹…æå‡äº†è¡¨æ ¼ç»“æ„è¯†åˆ«çš„ç²¾åº¦å’Œæ¨ç†é€Ÿåº¦ã€‚

**æ€§èƒ½æŒ‡æ ‡ï¼š**
| æŒ‡æ ‡åç§° | ç²¾åº¦(%) | GPUæ¨ç†è€—æ—¶ (ms) | CPUæ¨ç†è€—æ—¶ (ms) |
| :--- | :--- | :--- | :--- |
| **å¸¸è§„æ¨¡å¼** | 59.52 | 23.96 | - |
| **é«˜æ€§èƒ½æ¨¡å¼** | - | 21.75 | 43.12 |

**ä¸‹è½½é“¾æ¥ï¼š**  
[æ¨ç†æ¨¡å‹](https://paddle-model-ecology.bj.bcebos.com/paddlex/official_inference_model/paddle3.0.0/SLANet_infer.tar) | [è®­ç»ƒæ¨¡å‹](https://paddle-model-ecology.bj.bcebos.com/paddlex/official_pretrained_model/SLANet_pretrained.pdparams)

---

### ğŸ“ŠğŸ“Š SLANet_plus
**æ¨¡å‹ç±»å‹ï¼š** æ¨ç†æ¨¡å‹/è®­ç»ƒæ¨¡å‹ | **æ¨¡å‹å­˜å‚¨å¤§å°ï¼š** 6.9 MB  
**æ¨¡å‹ä»‹ç»ï¼š**  
SLANet_plus æ˜¯ç™¾åº¦é£æ¡¨è§†è§‰å›¢é˜Ÿè‡ªç ”çš„è¡¨æ ¼ç»“æ„è¯†åˆ«æ¨¡å‹ SLANet çš„å¢å¼ºç‰ˆã€‚ç›¸è¾ƒäº SLANetï¼ŒSLANet_plus å¯¹æ— çº¿è¡¨ã€å¤æ‚è¡¨æ ¼çš„è¯†åˆ«èƒ½åŠ›å¾—åˆ°äº†å¤§å¹…æå‡ï¼Œå¹¶é™ä½äº†æ¨¡å‹å¯¹è¡¨æ ¼å®šä½å‡†ç¡®æ€§çš„æ•æ„Ÿåº¦ï¼Œå³ä½¿è¡¨æ ¼å®šä½å‡ºç°åç§»ï¼Œä¹Ÿèƒ½å¤Ÿè¾ƒå‡†ç¡®åœ°è¿›è¡Œè¯†åˆ«ã€‚

**æ€§èƒ½æŒ‡æ ‡ï¼š**
| æŒ‡æ ‡åç§° | ç²¾åº¦(%) | GPUæ¨ç†è€—æ—¶ (ms) | CPUæ¨ç†è€—æ—¶ (ms) |
| :--- | :--- | :--- | :--- |
| **å¸¸è§„æ¨¡å¼** | 63.69 | 23.43 | - |
| **é«˜æ€§èƒ½æ¨¡å¼** | - | 22.16 | 41.80 |

**ä¸‹è½½é“¾æ¥ï¼š**  
[æ¨ç†æ¨¡å‹](https://paddle-model-ecology.bj.bcebos.com/paddlex/official_inference_model/paddle3.0.0/SLANet_plus_infer.tar) | [è®­ç»ƒæ¨¡å‹](https://paddle-model-ecology.bj.bcebos.com/paddlex/official_pretrained_model/SLANet_plus_pretrained.pdparams)

---

### ğŸ“ŠğŸ“Š SLANeXt
**æ¨¡å‹ç±»å‹ï¼š** æ¨ç†æ¨¡å‹/è®­ç»ƒæ¨¡å‹ | **æ¨¡å‹å­˜å‚¨å¤§å°ï¼š** 351 MB  
**æ¨¡å‹ä»‹ç»ï¼š**  
SLANeXt ç³»åˆ—æ˜¯ç™¾åº¦é£æ¡¨è§†è§‰å›¢é˜Ÿè‡ªç ”çš„æ–°ä¸€ä»£è¡¨æ ¼ç»“æ„è¯†åˆ«æ¨¡å‹ã€‚ç›¸è¾ƒäº SLANet å’Œ SLANet_plusï¼ŒSLANeXt ä¸“æ³¨äºå¯¹è¡¨æ ¼ç»“æ„è¿›è¡Œè¯†åˆ«ï¼Œå¹¶ä¸”å¯¹æœ‰çº¿è¡¨æ ¼(wired)å’Œæ— çº¿è¡¨æ ¼(wireless)çš„è¯†åˆ«åˆ†åˆ«è®­ç»ƒäº†ä¸“ç”¨çš„æƒé‡ï¼Œå¯¹å„ç±»å‹è¡¨æ ¼çš„è¯†åˆ«èƒ½åŠ›éƒ½å¾—åˆ°äº†æ˜æ˜¾æé«˜ï¼Œç‰¹åˆ«æ˜¯å¯¹æœ‰çº¿è¡¨æ ¼çš„è¯†åˆ«èƒ½åŠ›å¾—åˆ°äº†å¤§å¹…æå‡ã€‚

#### SLANeXt_wired
**æ€§èƒ½æŒ‡æ ‡ï¼š**
| æŒ‡æ ‡åç§° | ç²¾åº¦(%) | GPUæ¨ç†è€—æ—¶ (ms) | CPUæ¨ç†è€—æ—¶ (ms) |
| :--- | :--- | :--- | :--- |
| **å¸¸è§„æ¨¡å¼** | 69.65 | 85.92 | - |
| **é«˜æ€§èƒ½æ¨¡å¼** | - | 85.92 | 501.66 |

**ä¸‹è½½é“¾æ¥ï¼š**  
[æ¨ç†æ¨¡å‹](https://paddle-model-ecology.bj.bcebos.com/paddlex/official_inference_model/paddle3.0.0/SLANeXt_wired_infer.tar) | [è®­ç»ƒæ¨¡å‹](https://paddle-model-ecology.bj.bcebos.com/paddlex/official_pretrained_model/SLANeXt_wired_pretrained.pdparams)

#### SLANeXt_wireless
**æ€§èƒ½æŒ‡æ ‡ï¼š**
| æŒ‡æ ‡åç§° | ç²¾åº¦(%) | GPUæ¨ç†è€—æ—¶ (ms) | CPUæ¨ç†è€—æ—¶ (ms) |
| :--- | :--- | :--- | :--- |
| **å¸¸è§„æ¨¡å¼** | 69.65 | 85.92 | - |
| **é«˜æ€§èƒ½æ¨¡å¼** | - | 85.92 | 501.66 |

**ä¸‹è½½é“¾æ¥ï¼š**  
[æ¨ç†æ¨¡å‹](https://paddle-model-ecology.bj.bcebos.com/paddlex/official_inference_model/paddle3.0.0/SLANeXt_wireless_infer.tar) | [è®­ç»ƒæ¨¡å‹](https://paddle-model-ecology.bj.bcebos.com/paddlex/official_pretrained_model/SLANeXt_wireless_pretrained.pdparams)

---

### ğŸ§ªğŸ§ªğŸ§ª æµ‹è¯•ç¯å¢ƒè¯´æ˜
**æ€§èƒ½æµ‹è¯•ç¯å¢ƒï¼š**
- **æµ‹è¯•æ•°æ®é›†ï¼š** å†…éƒ¨è‡ªå»ºçš„é«˜éš¾åº¦ä¸­æ–‡è¡¨æ ¼è¯†åˆ«æ•°æ®é›†
- **ç¡¬ä»¶é…ç½®ï¼š**
  - GPUï¼šNVIDIA Tesla T4
  - CPUï¼šIntel Xeon Gold 6271C @ 2.60GHz
- **è½¯ä»¶ç¯å¢ƒï¼š**
  - Ubuntu 20.04 / CUDA 11.8 / cuDNN 8.9 / TensorRT 8.6.1.6
  - paddlepaddle 3.0.0 / paddleocr 3.0.3

**æ¨ç†æ¨¡å¼è¯´æ˜ï¼š**
| æ¨¡å¼ | GPUé…ç½® | CPUé…ç½® | åŠ é€ŸæŠ€æœ¯ç»„åˆ |
| :--- | :--- | :--- | :--- |
| **å¸¸è§„æ¨¡å¼** | FP32ç²¾åº¦ / æ— TRTåŠ é€Ÿ | FP32ç²¾åº¦ / 8çº¿ç¨‹ | PaddleInference |
| **é«˜æ€§èƒ½æ¨¡å¼** | é€‰æ‹©å…ˆéªŒç²¾åº¦ç±»å‹å’ŒåŠ é€Ÿç­–ç•¥çš„æœ€ä¼˜ç»„åˆ | FP32ç²¾åº¦ / 8çº¿ç¨‹ | é€‰æ‹©å…ˆéªŒæœ€ä¼˜åç«¯ï¼ˆPaddle/OpenVINO/TRTç­‰ï¼‰ |



## ä¸‰ã€å¿«é€Ÿå¼€å§‹

> â— åœ¨å¿«é€Ÿå¼€å§‹å‰ï¼Œè¯·å…ˆå®‰è£… PaddleOCR çš„ wheel åŒ…ï¼Œè¯¦ç»†è¯·å‚è€ƒ [å®‰è£…æ•™ç¨‹](../installation.md)ã€‚

ä½¿ç”¨ä¸€è¡Œå‘½ä»¤å³å¯å¿«é€Ÿä½“éªŒï¼š

```bash
paddleocr table_structure_recognition -i https://paddle-model-ecology.bj.bcebos.com/paddlex/imgs/demo_image/table_recognition.jpg
```

<b>æ³¨ï¼š</b>PaddleOCR å®˜æ–¹æ¨¡å‹é»˜è®¤ä» HuggingFace è·å–ï¼Œå¦‚è¿è¡Œç¯å¢ƒè®¿é—® HuggingFace ä¸ä¾¿ï¼Œå¯é€šè¿‡ç¯å¢ƒå˜é‡ä¿®æ”¹æ¨¡å‹æºä¸º BOSï¼š`PADDLE_PDX_MODEL_SOURCE="BOS"`ï¼Œæœªæ¥å°†æ”¯æŒæ›´å¤šä¸»æµæ¨¡å‹æºï¼›

æ‚¨ä¹Ÿå¯ä»¥å°†è¡¨æ ¼ç»“æ„è¯†åˆ«çš„æ¨¡å—ä¸­çš„æ¨¡å‹æ¨ç†é›†æˆåˆ°æ‚¨çš„é¡¹ç›®ä¸­ã€‚è¿è¡Œä»¥ä¸‹ä»£ç å‰ï¼Œè¯·æ‚¨ä¸‹è½½[ç¤ºä¾‹å›¾ç‰‡](https://paddle-model-ecology.bj.bcebos.com/paddlex/imgs/demo_image/table_recognition.jpg)åˆ°æœ¬åœ°ã€‚

```python
from paddleocr import TableStructureRecognition
model = TableStructureRecognition(model_name="SLANet")
output = model.predict(input="table_recognition.jpg", batch_size=1)
for res in output:
    res.print(json_format=False)
    res.save_to_json("./output/res.json")
```

è¿è¡Œåï¼Œå¾—åˆ°çš„ç»“æœä¸ºï¼š

```
{'res': {'input_path': 'table_recognition.jpg', 'page_index': None, 'bbox': [[42, 2, 390, 2, 388, 27, 40, 26], [11, 35, 89, 35, 87, 63, 11, 63], [113, 34, 192, 34, 186, 64, 109, 64], [219, 33, 399, 33, 393, 62, 212, 62], [413, 33, 544, 33, 544, 64, 407, 64], [12, 67, 98, 68, 96, 93, 12, 93], [115, 66, 205, 66, 200, 91, 111, 91], [234, 65, 390, 65, 385, 92, 227, 92], [414, 66, 537, 67, 537, 95, 409, 95], [7, 97, 106, 97, 104, 128, 7, 128], [113, 96, 206, 95, 201, 127, 109, 127], [236, 96, 386, 96, 381, 128, 230, 128], [413, 96, 534, 95, 533, 127, 408, 127]], 'structure': ['<html>', '<body>', '<table>', '<tr>', '<td', ' colspan="4"', '>', '</td>', '</tr>', '<tr>', '<td></td>', '<td></td>', '<td></td>', '<td></td>', '</tr>', '<tr>', '<td></td>', '<td></td>', '<td></td>', '<td></td>', '</tr>', '<tr>', '<td></td>', '<td></td>', '<td></td>', '<td></td>', '</tr>', '</table>', '</body>', '</html>'], 'structure_score': 0.99948007}}
```

å‚æ•°å«ä¹‰å¦‚ä¸‹ï¼š

- `input_path`ï¼šè¾“å…¥çš„å¾…é¢„æµ‹è¡¨æ ¼å›¾åƒçš„è·¯å¾„
- `page_index`ï¼šå¦‚æœè¾“å…¥æ˜¯PDFæ–‡ä»¶ï¼Œåˆ™è¡¨ç¤ºå½“å‰æ˜¯PDFçš„ç¬¬å‡ é¡µï¼Œå¦åˆ™ä¸º `None`
- `boxes`ï¼šé¢„æµ‹çš„è¡¨æ ¼å•å…ƒæ ¼ä¿¡æ¯ï¼Œä¸€ä¸ªåˆ—è¡¨ï¼Œç”±é¢„æµ‹çš„è‹¥å¹²è¡¨æ ¼å•å…ƒæ ¼åæ ‡ç»„æˆã€‚ç‰¹åˆ«åœ°ï¼Œ SLANeXt ç³»åˆ—æ¨¡å‹é¢„æµ‹çš„è¡¨æ ¼å•å…ƒæ ¼æ— æ•ˆ
- `structure`ï¼šé¢„æµ‹çš„è¡¨æ ¼ç»“æ„Htmlè¡¨è¾¾å¼ï¼Œä¸€ä¸ªåˆ—è¡¨ï¼Œç”±é¢„æµ‹çš„è‹¥å¹²Htmlå…³é”®å­—æŒ‰é¡ºåºç»„æˆ
- `structure_score`ï¼šé¢„æµ‹è¡¨æ ¼ç»“æ„çš„ç½®ä¿¡åº¦

ç›¸å…³æ–¹æ³•ã€å‚æ•°ç­‰è¯´æ˜å¦‚ä¸‹ï¼š

* `TableStructureRecognition`å®ä¾‹åŒ–è¡¨æ ¼ç»“æ„è¯†åˆ«æ¨¡å‹ï¼ˆæ­¤å¤„ä»¥`SLANet`ä¸ºä¾‹ï¼‰ï¼Œå…·ä½“è¯´æ˜å¦‚ä¸‹ï¼š
<table>
<thead>
<tr>
<th>å‚æ•°</th>
<th>å‚æ•°è¯´æ˜</th>
<th>å‚æ•°ç±»å‹</th>
<th>é»˜è®¤å€¼</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>model_name</code></td>
<td>æ¨¡å‹åç§°ã€‚å¦‚æœè®¾ç½®ä¸º<code>None</code>ï¼Œåˆ™ä½¿ç”¨<code>PP-LCNet_x1_0_table_cls</code>ã€‚</td>
<td><code>str|None</code></td>
<td><code>None</code></td>
</tr>
<tr>
<td><code>model_dir</code></td>
<td>æ¨¡å‹å­˜å‚¨è·¯å¾„ã€‚</td>
<td><code>str|None</code></td>
<td><code>None</code></td>
</tr>
<tr>
<td><code>device</code></td>
<td>ç”¨äºæ¨ç†çš„è®¾å¤‡ã€‚<br/>
<b>ä¾‹å¦‚ï¼š</b><code>"cpu"</code>ã€<code>"gpu"</code>ã€<code>"npu"</code>ã€<code>"gpu:0"</code>ã€<code>"gpu:0,1"</code>ã€‚<br/>
å¦‚æŒ‡å®šå¤šä¸ªè®¾å¤‡ï¼Œå°†è¿›è¡Œå¹¶è¡Œæ¨ç†ã€‚<br/>
é»˜è®¤æƒ…å†µä¸‹ï¼Œä¼˜å…ˆä½¿ç”¨ GPU 0ï¼›è‹¥ä¸å¯ç”¨åˆ™ä½¿ç”¨ CPUã€‚
</td>
<td><code>str|None</code></td>
<td><code>None</code></td>
</tr>
<tr>
<td><code>enable_hpi</code></td>
<td>æ˜¯å¦å¯ç”¨é«˜æ€§èƒ½æ¨ç†ã€‚</td>
<td><code>bool</code></td>
<td><code>False</code></td>
</tr>
<tr>
<td><code>use_tensorrt</code></td>
<td>æ˜¯å¦å¯ç”¨ Paddle Inference çš„ TensorRT å­å›¾å¼•æ“ã€‚å¦‚æœæ¨¡å‹ä¸æ”¯æŒé€šè¿‡ TensorRT åŠ é€Ÿï¼Œå³ä½¿è®¾ç½®äº†æ­¤æ ‡å¿—ï¼Œä¹Ÿä¸ä¼šä½¿ç”¨åŠ é€Ÿã€‚<br/>
å¯¹äº CUDA 11.8 ç‰ˆæœ¬çš„é£æ¡¨ï¼Œå…¼å®¹çš„ TensorRT ç‰ˆæœ¬ä¸º 8.xï¼ˆx>=6ï¼‰ï¼Œå»ºè®®å®‰è£… TensorRT 8.6.1.6ã€‚<br/>

</td>
<td><code>bool</code></td>
<td><code>False</code></td>
</tr>
<tr>
<td><code>precision</code></td>
<td>å½“ä½¿ç”¨ Paddle Inference çš„ TensorRT å­å›¾å¼•æ“æ—¶è®¾ç½®çš„è®¡ç®—ç²¾åº¦ã€‚<br/><b>å¯é€‰é¡¹ï¼š</b><code>"fp32"</code>ã€<code>"fp16"</code>ã€‚</td>
<td><code>str</code></td>
<td><code>"fp32"</code></td>
</tr>
<tr>
<td><code>enable_mkldnn</code></td>
<td>
æ˜¯å¦å¯ç”¨ MKL-DNN åŠ é€Ÿæ¨ç†ã€‚å¦‚æœ MKL-DNN ä¸å¯ç”¨æˆ–æ¨¡å‹ä¸æ”¯æŒé€šè¿‡ MKL-DNN åŠ é€Ÿï¼Œå³ä½¿è®¾ç½®äº†æ­¤æ ‡å¿—ï¼Œä¹Ÿä¸ä¼šä½¿ç”¨åŠ é€Ÿã€‚<br/>
</td>
<td><code>bool</code></td>
<td><code>True</code></td>
</tr>
<tr>
<td><code>mkldnn_cache_capacity</code></td>
<td>
MKL-DNN ç¼“å­˜å®¹é‡ã€‚
</td>
<td><code>int</code></td>
<td><code>10</code></td>
</tr>
<tr>
<td><code>cpu_threads</code></td>
<td>åœ¨ CPU ä¸Šæ¨ç†æ—¶ä½¿ç”¨çš„çº¿ç¨‹æ•°é‡ã€‚</td>
<td><code>int</code></td>
<td><code>10</code></td>
</tr>
</tbody>
</table>

* è°ƒç”¨è¡¨æ ¼ç»“æ„è¯†åˆ«æ¨¡å‹çš„ `predict()` æ–¹æ³•è¿›è¡Œæ¨ç†é¢„æµ‹ï¼Œè¯¥æ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªç»“æœåˆ—è¡¨ã€‚å¦å¤–ï¼Œæœ¬æ¨¡å—è¿˜æä¾›äº† `predict_iter()` æ–¹æ³•ã€‚ä¸¤è€…åœ¨å‚æ•°æ¥å—å’Œç»“æœè¿”å›æ–¹é¢æ˜¯å®Œå…¨ä¸€è‡´çš„ï¼ŒåŒºåˆ«åœ¨äº `predict_iter()` è¿”å›çš„æ˜¯ä¸€ä¸ª `generator`ï¼Œèƒ½å¤Ÿé€æ­¥å¤„ç†å’Œè·å–é¢„æµ‹ç»“æœï¼Œé€‚åˆå¤„ç†å¤§å‹æ•°æ®é›†æˆ–å¸Œæœ›èŠ‚çœå†…å­˜çš„åœºæ™¯ã€‚å¯ä»¥æ ¹æ®å®é™…éœ€æ±‚é€‰æ‹©ä½¿ç”¨è¿™ä¸¤ç§æ–¹æ³•ä¸­çš„ä»»æ„ä¸€ç§ã€‚`predict()` æ–¹æ³•å‚æ•°æœ‰ `input` å’Œ `batch_size`ï¼Œå…·ä½“è¯´æ˜å¦‚ä¸‹ï¼š

<table>
<thead>
<tr>
<th>å‚æ•°</th>
<th>å‚æ•°è¯´æ˜</th>
<th>å‚æ•°ç±»å‹</th>
<th>é»˜è®¤å€¼</th>
</tr>
</thead>
<tr>
<td><code>input</code></td>
<td>å¾…é¢„æµ‹æ•°æ®ï¼Œæ”¯æŒå¤šç§è¾“å…¥ç±»å‹ï¼Œå¿…å¡«ã€‚
<ul>
<li><b>Python Var</b>ï¼šå¦‚ <code>numpy.ndarray</code> è¡¨ç¤ºçš„å›¾åƒæ•°æ®</li>
<li><b>str</b>ï¼šå¦‚å›¾åƒæ–‡ä»¶æˆ–è€…PDFæ–‡ä»¶çš„æœ¬åœ°è·¯å¾„ï¼š<code>/root/data/img.jpg</code>ï¼›<b>å¦‚URLé“¾æ¥</b>ï¼Œå¦‚å›¾åƒæ–‡ä»¶æˆ–PDFæ–‡ä»¶çš„ç½‘ç»œURLï¼š<a href="https://paddle-model-ecology.bj.bcebos.com/paddlex/imgs/demo_image/img_rot180_demo.jpg">ç¤ºä¾‹</a>ï¼›<b>å¦‚æœ¬åœ°ç›®å½•</b>ï¼Œè¯¥ç›®å½•ä¸‹éœ€åŒ…å«å¾…é¢„æµ‹å›¾åƒï¼Œå¦‚æœ¬åœ°è·¯å¾„ï¼š<code>/root/data/</code>(å½“å‰ä¸æ”¯æŒç›®å½•ä¸­åŒ…å«PDFæ–‡ä»¶çš„é¢„æµ‹ï¼ŒPDFæ–‡ä»¶éœ€è¦æŒ‡å®šåˆ°å…·ä½“æ–‡ä»¶è·¯å¾„)</li>
<li><b>list</b>ï¼šåˆ—è¡¨å…ƒç´ éœ€ä¸ºä¸Šè¿°ç±»å‹æ•°æ®ï¼Œå¦‚<code>[numpy.ndarray, numpy.ndarray]</code>ï¼Œ<code>["/root/data/img1.jpg", "/root/data/img2.jpg"]</code>ï¼Œ<code>["/root/data1", "/root/data2"]</code></li>
</ul>
</td>
<td><code>Python Var|str|list</code></td>
<td></td>
</tr>
<tr>
<td><code>batch_size</code></td>
<td>æ‰¹å¤§å°ï¼Œå¯è®¾ç½®ä¸ºä»»æ„æ­£æ•´æ•°ã€‚</td>
<td><code>int</code></td>
<td>1</td>
</tr>
</table>

* å¯¹é¢„æµ‹ç»“æœè¿›è¡Œå¤„ç†ï¼Œæ¯ä¸ªæ ·æœ¬çš„é¢„æµ‹ç»“æœå‡ä¸ºå¯¹åº”çš„Resultå¯¹è±¡ï¼Œä¸”æ”¯æŒæ‰“å°ã€ä¿å­˜ä¸º`json`æ–‡ä»¶çš„æ“ä½œ:

<table>
<thead>
<tr>
<th>æ–¹æ³•</th>
<th>æ–¹æ³•è¯´æ˜</th>
<th>å‚æ•°</th>
<th>å‚æ•°ç±»å‹</th>
<th>å‚æ•°è¯´æ˜</th>
<th>é»˜è®¤å€¼</th>
</tr>
</thead>
<tr>
<td rowspan="3"><code>print()</code></td>
<td rowspan="3">æ‰“å°ç»“æœåˆ°ç»ˆç«¯</td>
<td><code>format_json</code></td>
<td><code>bool</code></td>
<td>æ˜¯å¦å¯¹è¾“å‡ºå†…å®¹è¿›è¡Œä½¿ç”¨ <code>JSON</code> ç¼©è¿›æ ¼å¼åŒ–</td>
<td><code>True</code></td>
</tr>
<tr>
<td><code>indent</code></td>
<td><code>int</code></td>
<td>æŒ‡å®šç¼©è¿›çº§åˆ«ï¼Œä»¥ç¾åŒ–è¾“å‡ºçš„ <code>JSON</code> æ•°æ®ï¼Œä½¿å…¶æ›´å…·å¯è¯»æ€§ï¼Œä»…å½“ <code>format_json</code> ä¸º <code>True</code> æ—¶æœ‰æ•ˆ</td>
<td>4</td>
</tr>
<tr>
<td><code>ensure_ascii</code></td>
<td><code>bool</code></td>
<td>æ§åˆ¶æ˜¯å¦å°†é <code>ASCII</code> å­—ç¬¦è½¬ä¹‰ä¸º <code>Unicode</code>ã€‚è®¾ç½®ä¸º <code>True</code> æ—¶ï¼Œæ‰€æœ‰é <code>ASCII</code> å­—ç¬¦å°†è¢«è½¬ä¹‰ï¼›<code>False</code> åˆ™ä¿ç•™åŸå§‹å­—ç¬¦ï¼Œä»…å½“<code>format_json</code>ä¸º<code>True</code>æ—¶æœ‰æ•ˆ</td>
<td><code>False</code></td>
</tr>
<tr>
<td rowspan="3"><code>save_to_json()</code></td>
<td rowspan="3">å°†ç»“æœä¿å­˜ä¸ºjsonæ ¼å¼çš„æ–‡ä»¶</td>
<td><code>save_path</code></td>
<td><code>str</code></td>
<td>ä¿å­˜çš„æ–‡ä»¶è·¯å¾„ï¼Œå½“ä¸ºç›®å½•æ—¶ï¼Œä¿å­˜æ–‡ä»¶å‘½åä¸è¾“å…¥æ–‡ä»¶ç±»å‹å‘½åä¸€è‡´</td>
<td>æ— </td>
</tr>
<tr>
<td><code>indent</code></td>
<td><code>int</code></td>
<td>æŒ‡å®šç¼©è¿›çº§åˆ«ï¼Œä»¥ç¾åŒ–è¾“å‡ºçš„ <code>JSON</code> æ•°æ®ï¼Œä½¿å…¶æ›´å…·å¯è¯»æ€§ï¼Œä»…å½“ <code>format_json</code> ä¸º <code>True</code> æ—¶æœ‰æ•ˆ</td>
<td>4</td>
</tr>
<tr>
<td><code>ensure_ascii</code></td>
<td><code>bool</code></td>
<td>æ§åˆ¶æ˜¯å¦å°†é <code>ASCII</code> å­—ç¬¦è½¬ä¹‰ä¸º <code>Unicode</code>ã€‚è®¾ç½®ä¸º <code>True</code> æ—¶ï¼Œæ‰€æœ‰é <code>ASCII</code> å­—ç¬¦å°†è¢«è½¬ä¹‰ï¼›<code>False</code> åˆ™ä¿ç•™åŸå§‹å­—ç¬¦ï¼Œä»…å½“<code>format_json</code>ä¸º<code>True</code>æ—¶æœ‰æ•ˆ</td>
<td><code>False</code></td>
</tr>
</table>

* æ­¤å¤–ï¼Œä¹Ÿæ”¯æŒé€šè¿‡å±æ€§è·å–ç»“æœï¼Œå…·ä½“å¦‚ä¸‹ï¼š

<table>
<thead>
<tr>
<th>å±æ€§</th>
<th>å±æ€§è¯´æ˜</th>
</tr>
</thead>
<tr>
<td rowspan="1"><code>json</code></td>
<td rowspan="1">è·å–é¢„æµ‹çš„<code>json</code>æ ¼å¼çš„ç»“æœ</td>
</tr>
</table>

## å››ã€äºŒæ¬¡å¼€å‘

å¦‚æœä»¥ä¸Šæ¨¡å‹åœ¨æ‚¨çš„åœºæ™¯ä¸Šæ•ˆæœä»ç„¶ä¸ç†æƒ³ï¼Œæ‚¨å¯ä»¥å°è¯•ä»¥ä¸‹æ­¥éª¤è¿›è¡ŒäºŒæ¬¡å¼€å‘ï¼Œæ­¤å¤„ä»¥è®­ç»ƒ `SLANet_plus` ä¸¾ä¾‹ï¼Œå…¶ä»–æ¨¡å‹æ›¿æ¢å¯¹åº”é…ç½®æ–‡ä»¶å³å¯ã€‚é¦–å…ˆï¼Œæ‚¨éœ€è¦å‡†å¤‡è¡¨æ ¼ç»“æ„è¯†åˆ«çš„æ•°æ®é›†ï¼Œå¯ä»¥å‚è€ƒ[è¡¨æ ¼ç»“æ„è¯†åˆ« Demo æ•°æ®](https://paddle-model-ecology.bj.bcebos.com/paddlex/data/table_rec_dataset_examples.tar)çš„æ ¼å¼å‡†å¤‡ï¼Œå‡†å¤‡å¥½åï¼Œå³å¯æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤è¿›è¡Œæ¨¡å‹è®­ç»ƒå’Œå¯¼å‡ºï¼Œå¯¼å‡ºåï¼Œå¯ä»¥å°†æ¨¡å‹å¿«é€Ÿé›†æˆåˆ°ä¸Šè¿° API ä¸­ã€‚æ­¤å¤„ä»¥è¡¨æ ¼ç»“æ„è¯†åˆ« Demo æ•°æ®ç¤ºä¾‹ã€‚åœ¨è®­ç»ƒæ¨¡å‹ä¹‹å‰ï¼Œè¯·ç¡®ä¿å·²ç»æŒ‰ç…§[å®‰è£…æ–‡æ¡£](../installation.md)å®‰è£…äº† PaddleOCR æ‰€éœ€è¦çš„ä¾èµ–ã€‚


### 4.1 æ•°æ®é›†ã€é¢„è®­ç»ƒæ¨¡å‹å‡†å¤‡

#### 4.1.1 å‡†å¤‡æ•°æ®é›†

```shell
# ä¸‹è½½ç¤ºä¾‹æ•°æ®é›†
wget https://paddle-model-ecology.bj.bcebos.com/paddlex/data/table_rec_dataset_examples.tar
tar -xf table_rec_dataset_examples.tar
```

#### 4.1.2 ä¸‹è½½é¢„è®­ç»ƒæ¨¡å‹

```shell
# ä¸‹è½½ SLANet_plus é¢„è®­ç»ƒæ¨¡å‹
wget https://paddle-model-ecology.bj.bcebos.com/paddlex/official_pretrained_model/SLANet_plus_pretrained.pdparams
```

### 4.2 æ¨¡å‹è®­ç»ƒ

PaddleOCR å¯¹ä»£ç è¿›è¡Œäº†æ¨¡å—åŒ–ï¼Œè®­ç»ƒ `SLANet_plus` è¯†åˆ«æ¨¡å‹æ—¶éœ€è¦ä½¿ç”¨ `SLANet_plus` çš„[é…ç½®æ–‡ä»¶](https://github.com/PaddlePaddle/PaddleOCR/blob/main/configs/table/SLANet_plus.yml)ã€‚


è®­ç»ƒå‘½ä»¤å¦‚ä¸‹ï¼š

```bash
#å•å¡è®­ç»ƒ (é»˜è®¤è®­ç»ƒæ–¹å¼)
python3 tools/train.py -c configs/table/SLANet_plus.yml \
    -o Global.pretrained_model=./SLANet_plus_pretrained.pdparams
    Train.dataset.data_dir=./table_rec_dataset_examples \
    Train.dataset.label_file_list='[./table_rec_dataset_examples/train.txt]' \
    Eval.dataset.data_dir=./table_rec_dataset_examples \
    Eval.dataset.label_file_list='[./table_rec_dataset_examples/val.txt]'

#å¤šå¡è®­ç»ƒï¼Œé€šè¿‡--gpuså‚æ•°æŒ‡å®šå¡å·
python3 -m paddle.distributed.launch --gpus '0,1,2,3' tools/train.py \
    -c configs/table/SLANet_plus.yml \
    -o Global.pretrained_model=./SLANet_plus_pretrained.pdparams
    -o Global.pretrained_model=./PP-OCRv5_server_det_pretrained.pdparams \
    Train.dataset.data_dir=./table_rec_dataset_examples \
    Train.dataset.label_file_list='[./table_rec_dataset_examples/train.txt]' \
    Eval.dataset.data_dir=./table_rec_dataset_examples \
    Eval.dataset.label_file_list='[./table_rec_dataset_examples/val.txt]'
```


### 4.3 æ¨¡å‹è¯„ä¼°

æ‚¨å¯ä»¥è¯„ä¼°å·²ç»è®­ç»ƒå¥½çš„æƒé‡ï¼Œå¦‚ï¼Œ`output/xxx/xxx.pdparams`ï¼Œä½¿ç”¨å¦‚ä¸‹å‘½ä»¤è¿›è¡Œè¯„ä¼°ï¼š

```bash
# æ³¨æ„å°†pretrained_modelçš„è·¯å¾„è®¾ç½®ä¸ºæœ¬åœ°è·¯å¾„ã€‚è‹¥ä½¿ç”¨è‡ªè¡Œè®­ç»ƒä¿å­˜çš„æ¨¡å‹ï¼Œè¯·æ³¨æ„ä¿®æ”¹è·¯å¾„å’Œæ–‡ä»¶åä¸º{path/to/weights}/{model_name}ã€‚
 # demo æµ‹è¯•é›†è¯„ä¼°
 python3 tools/eval.py -c configs/table/SLANet_plus.yml -o \
    Global.pretrained_model=output/xxx/xxx.pdparams
    Eval.dataset.data_dir=./table_rec_dataset_examples \
    Eval.dataset.label_file_list='[./table_rec_dataset_examples/val.txt]'
```

### 4.4 æ¨¡å‹å¯¼å‡º

```bash
 python3 tools/export_model.py -c configs/table/SLANet_plus.yml -o \
    Global.pretrained_model=output/xxx/xxx.pdparams \
    Global.save_inference_dir="./SLANet_plus_infer/"
```

 å¯¼å‡ºæ¨¡å‹åï¼Œé™æ€å›¾æ¨¡å‹ä¼šå­˜æ”¾äºå½“å‰ç›®å½•çš„`./SLANet_plus_infer/`ä¸­ï¼Œåœ¨è¯¥ç›®å½•ä¸‹ï¼Œæ‚¨å°†çœ‹åˆ°å¦‚ä¸‹æ–‡ä»¶ï¼š
 ```
 ./SLANet_plus_infer/
 â”œâ”€â”€ inference.json
 â”œâ”€â”€ inference.pdiparams
 â”œâ”€â”€ inference.yml
 ```
è‡³æ­¤ï¼ŒäºŒæ¬¡å¼€å‘å®Œæˆï¼Œè¯¥é™æ€å›¾æ¨¡å‹å¯ä»¥ç›´æ¥é›†æˆåˆ° PaddleOCR çš„ API ä¸­ã€‚

## äº”ã€FAQ
